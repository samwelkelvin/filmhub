<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Top Rated TV Shows</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/global.css" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">
    <link href="css/override.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani&display=swap" rel="stylesheet">
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/components.js"></script>
    <script src="api/data.js"></script>
    <style>
        .float-menu {
            position: fixed;
            width: 60px;
            height: 60px;

            background-color: #6c6969;
            color: #FFF;
            border-radius: 50px;
            text-align: center;
            box-shadow: 2px 2px 3px #999;
            z-index: 3;

            font-size: 1.1rem;
            font-weight: bold;
            display: none;
        }

        #closeSideBar {
            right: 0;
            top: 100px;

        }

        #openSideBar {
            left: 0;
            bottom: 40px;
        }

        @media screen and (max-width: 767px) {
            .float-menu {
                display: block;
            }
        }
    </style>
</head>

<body>
    <div class="container-xl">

        <section id="top">
            <div class="container-xl">
                <div class="row top_1">
                    <div class="col-md-3">
                        <div class="top_1l pt-1">
                            <h3 class="mb-0"><a class="text-white" href="index.html"><i
                                        class="fa fa-video-camera col_red me-1"></i> FilmHub</a></h3>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="top_1m">
                            <div class="input-group">
                                <input type="text" id="searchInput" class="form-control bg-black"
                                    placeholder="Search item...">
                                <span class="input-group-btn">
                                    <button class="btn btn text-white bg_red rounded-0 border-0" type="button"
                                        onclick="search()"> Search</button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="top_1r text-end">
                            <ul class="social-network social-circle mb-0">
                                <li><a href="#" class="icoRss" title="Rss"><i class="fa fa-instagram"></i></a></li>
                                <li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a>
                                </li>
                                <li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                                </li>
                                <li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-youtube"></i></a>
                                </li>
                                <li><a href="#" class="icoLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- navigation -->
        <section id="header">
            <nav class="navbar navbar-expand-md navbar-light" id="navbar_sticky">
                <div class="container-xl">
                    <a class="navbar-brand text-white fw-bold" href="index.html">
                        <i class="fa fa-video-camera col_red me-1"></i> FilmHub</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>


                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mb-0">
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="index.html">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    Movies
                                </a>
                                <ul class="dropdown-menu drop_1" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="popular.html">Popular</a></li>
                                    <li><a class="dropdown-item" href="now-playing.html">Now playing</a></li>
                                    <li><a class="dropdown-item" href="upcoming.html">Upcoming</a></li>
                                    <li><a class="dropdown-item border-0" href="top-rated.html">Top rated</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle dropdown_active" href="#" id="navbarDropdown" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    TV Shows
                                </a>
                                <ul class="dropdown-menu drop_1" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="popular-tv-show.html">Poplar</a></li>
                                    <li><a class="dropdown-item" href="airing-today.html">Airing today</a></li>
                                    <li><a class="dropdown-item" href="on-tv.html">On tv</a></li>
                                    <li><a class="dropdown-item border-0 active_link" href="top-rated-tv-show.html">Top rated</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="trending-tv-shows.html">Trending Tv Shows</a>
                            </li>
                        </ul>
                    </div>

                </div>
            </nav>
        </section>

        <section id="center" class="center_o pt-2 pb-2">
            <div class="container-xl">
                <div class="row center_o1">
                    <div class="col-md-5">
                        <div class="">
                            <h2 class="mb-0">Top rated shows </h2>
                        </div>
                    </div>
                    <div class="col-md-7" id="leftRibbon">
                        <div class="center_o1r text-end">
                            <h6 class="mb-0 col_red"><a href="/">Home</a> <span class="me-2 ms-2 text-light">
                                    <i class="fa fa-caret-right align-middle"></i></span> Top rated Tv Shows </h6>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="content">
            <!-- left panel -->
            <div class="leftsidebar movie_card" id="leftFilterBar">

                <div class="filter_panel movie_card closed">

                </div>
                <div class="filter">
                    <h3>Genres</h3>
                    <!-- render genres -->
                    <ul id="with_genres" class="multi_select text" name="with_genres[]">
                        <li data-value="10759"><a class="no_click" href="/discover/tv?with_genres=10759">Action &
                                Adventure</a></li>
                        <li data-value="16"><a class="no_click" href="/discover/tv?with_genres=16">Animation</a></li>
                        <li data-value="35"><a class="no_click" href="/discover/tv?with_genres=35">Comedy</a></li>
                        <li data-value="80"><a class="no_click" href="/discover/tv?with_genres=80">Crime</a></li>
                        <li data-value="99"><a class="no_click" href="/discover/tv?with_genres=99">Documentary</a></li>
                        <li data-value="18"><a class="no_click" href="/discover/tv?with_genres=18">Drama</a></li>
                        <li data-value="10751"><a class="no_click" href="/discover/tv?with_genres=10751">Family</a></li>
                        <li data-value="10762"><a class="no_click" href="/discover/tv?with_genres=10762">Kids</a></li>
                        <li data-value="9648"><a class="no_click" href="/discover/tv?with_genres=9648">Mystery</a></li>
                        <li data-value="10763"><a class="no_click" href="/discover/tv?with_genres=10763">News</a></li>
                        <li data-value="10764"><a class="no_click" href="/discover/tv?with_genres=10764">Reality</a>
                        </li>
                        <li data-value="10765"><a class="no_click" href="/discover/tv?with_genres=10765">Sci-Fi &
                                Fantasy</a></li>
                        <li data-value="10766"><a class="no_click" href="/discover/tv?with_genres=10766">Soap</a></li>
                        <li data-value="10767"><a class="no_click" href="/discover/tv?with_genres=10767">Talk</a></li>
                        <li data-value="10768"><a class="no_click" href="/discover/tv?with_genres=10768">War &
                                Politics</a></li>
                        <li data-value="37"><a class="no_click" href="/discover/tv?with_genres=37">Western</a></li>
                    </ul>
                </div>

                <div class="search_filter">
                    <div id="applyfilter" class="apply small background_color light_blue enabled"
                        onclick="filterByGenres()">
                        <div class="loading_wrapper hide">
                            <div class="ball-scale-multiple white loader">
                                <div></div>
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                        <div class="no_click load_more" data-next-page="2" data-current-page="1" data-partial="">Search
                        </div>
                    </div>
                </div>

            </div>

            <div class="right_side_content_column no_pad">
                <section id="trend" class="pt-4 pb-5 panel results">
                    <!-- Search results -->
                    <div id="searchResltsDiv" style="display: none;">
                        <div class="col-12">
                            <div class="trend_1l">
                                <h4 class="mb-0"><i class="fa fa-search align-middle col_red me-1"></i>
                                    Search <span class="col_red"> results</span>
                                </h4>
                            </div>
                        </div>
                        <!-- content warapper -->
                        <div class="media_items results">
                            <!-- render content dynamically-->
                            <div class="page_wrapper" id="searchResults">
                            </div>
                        </div>
                    </div>
                    <!-- Page reslts -->
                    <div id="media_content_wrapper" style="display: none;">
                        <!-- ribbon banner -->
                        <div class="row trend_1">
                            <div class="col-12">
                                <div class="trend_1l">
                                    <h4 class="mb-0"><i class="fa fa-youtube-play align-middle col_red me-1"></i>
                                        Top rated<span class="col_red"> Tv shows</span>
                                    </h4>
                                </div>
                            </div>
                        </div>
                        <!-- content warapper -->
                        <div class="media_items results" style="">
                            <!-- render content dynamically-->
                            <div class="page_wrapper" id="mediaContentDiv">
                            </div>
                        </div>
                        <!-- load more button -->
                        <div class="row">
                            <div class="col-12">
                                <div class="text-center pt-3">
                                    <h6 class="mb-0">
                                        <a class="button" href="javascript:void(0)" onclick="loadMoreMovies(this)"
                                            id="loadmore"> Load more </a>
                                    </h6>
                                </div>
                            </div>
                        </div>
                    </div>

                    <input type="hidden" value="1" id="currentPageNumber">

                    <!-- error section -->
                    <blockquote class="blockquote p-4 pt-3 mt-4" id="errorEl" style="display: none;">
                        <h6 class="fw-normal mb-0"><strong>- Oops!! </strong></h6>
                        <p id="errorMessage"></p>
                    </blockquote>
                    <!-- loader` -->
                    <h5 style="text-align: center;" id="loading" class=" m-5 ">
                        <div class="spinner-border text-danger" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        Loading
                    </h5>

                </section>



                <section id="stream" class="pb-5 pt-4">
                    <div class="container-xl">
                        <div class="row trend_1">
                            <div class="col-md-6 col-6">
                                <div class="trend_1l">
                                    <h4 class="mb-0"><i class="fa fa-youtube-play align-middle col_red me-1"></i> Movie
                                        <span class="col_red">Streaming Services</span>
                                    </h4>
                                </div>
                            </div>
                            <div class="col-md-6 col-6">
                                <div class="trend_1r text-end">
                                    <h6 class="mb-0"><a class="button" href="javascript:void(0)"> View All</a></h6>
                                </div>
                            </div>
                        </div>
                        <div class="row trend_2 mt-4">
                            <div id="carouselExampleCaptions4" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-indicators">
                                    <button type="button" data-bs-target="#carouselExampleCaptions4"
                                        data-bs-slide-to="0" class="active" aria-label="Slide 1"
                                        aria-current="true"></button>
                                    <button type="button" data-bs-target="#carouselExampleCaptions4"
                                        data-bs-slide-to="1" aria-label="Slide 2" class=""></button>
                                </div>
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <div class="trend_2i row">
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/8WPLg0mQQUdzWZw7xDaM0POmwfO.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/saZdn4kLq6Brkc0d8g6SZYGPxIr.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/yOHCtgHbtOKQF5Oezz2ZNSxV6bq.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/p2fVhnzr0znG2KnVLmH9bjj7F0S.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/i7FaDWpD2xoIWB5lyF191cykfck.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="carousel-item">
                                        <div class="trend_2i row">
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/sOikKxPVWnwUqa46nt8SwrQ53ui.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/fY2J5CojsKC52LO2K8P5AQAH2UT.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/8ipK9EjNHvcPM22SgqKdA8wZjal.jpg"" class="
                                                                        w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/jUgtBLZzpaLVTNnqGYDOU9BlCzU.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="trend_2im clearfix position-relative">
                                                    <div class="trend_2im1 clearfix">
                                                        <div class="grid">
                                                            <figure class="effect-jazz mb-0">
                                                                <a href="#"><img
                                                                        src="https://image.tmdb.org/t/p/w185/h5QpXIpSnvrPFnOLRXV83CtVHQH.jpg"
                                                                        class="w-100" alt="poster"></a>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </section>

                <section id="footer">
                    <div class="footer_m clearfix">
                        <div class="container-xl">
                            <div class="row footer_1">
                                <div class="col-md-4">
                                    <div class="footer_1i">
                                        <h3><a class="text-white" href="index.html"><i
                                                    class="fa fa-video-camera col_red me-1"></i> FilmHub</a></h3>
                                        <p class="mt-3">Step into the shoes of your favorite movie heroes and heroines
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="footer_1i">
                                        <h4>Fun</h4>
                                        <div class="footer_1i1 row mt-4">
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//p6AbOJvMQhBmffd0PIv0u8ghWeY.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//2H1TmgdfNtsKlU9jKdeNyYL5y8T.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300/bX2xnavhMYjWDoZp1VM6VnU1xwe.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//3w84hCFJATpiCO5g8hpdWVPBbmq.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="footer_1i1 row mt-3">
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//kuf6dutpsT0vSVehic3EZIqkOBt.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//nP6RliHjxsz4irTKsxe8FRhKZYl.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//xkNK36hQv8SWiwiQoE7naRfP0zL.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3 col-3">
                                                <div class="footer_1i1i">
                                                    <div class="grid clearfix">
                                                        <figure class="effect-jazz mb-0">
                                                            <a href="#"><img
                                                                    src="https://image.tmdb.org/t/p/w300//7PoIAvL3Io5v0HyBliXfXZruQTi.jpg"
                                                                    height="70" class="w-100" alt="Favourite"></a>
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="footer_1i">
                                        <h4>Sign <span class="col_red">Newsletter</span></h4>
                                        <p class="mt-3">Subscribe to our newsletter list to get latest news and updates
                                            from us
                                        </p>
                                        <div class="input-group">
                                            <input type="text" class="form-control bg-black" placeholder="Email">
                                            <span class="input-group-btn">
                                                <button class="btn btn text-white bg_red rounded-0 border-0"
                                                    type="button">
                                                    Subscribe</button>
                                            </span>
                                        </div>
                                        <ul class="social-network social-circle mb-0 mt-4">
                                            <li><a href="#" class="icoRss" title="Rss"><i
                                                        class="fa fa-instagram"></i></a></li>
                                            <li><a href="#" class="icoFacebook" title="Facebook"><i
                                                        class="fa fa-facebook"></i></a></li>
                                            <li><a href="#" class="icoTwitter" title="Twitter"><i
                                                        class="fa fa-twitter"></i></a>
                                            </li>
                                            <li><a href="#" class="icoGoogle" title="Google +"><i
                                                        class="fa fa-youtube"></i></a>
                                            </li>
                                            <li><a href="#" class="icoLinkedin" title="Linkedin"><i
                                                        class="fa fa-linkedin"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- </section>

                    <section id="footer_b" class="pt-3 pb-3 bg_grey"> -->
                    <div class="container-xl pt-3 pb-3 bg_grey" id="footer_b">
                        <div class="row footer_1">
                            <div class="col-md-12">
                                <div class="footer_1l">
                                    <p class="mb-0 text-center">©
                                        <script>document.write(new Date().getFullYear())</script> FILMHUB | All Rights
                                        Reserved
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <a href="javascript:void(0)" id="openSideBar" class="float-menu" onclick="showSideBar()"><i
                        class="fa fa-plus"></i>
                    MENU</a>
                <a href="javascript:void(0)" id="closeSideBar" class="float-menu" onclick="closeSideBar()"
                    style="display: none;"><i class="fa fa-close"></i> CLOSE</a>

            </div>
        </div>

        <script>

            //start displaying from page 1
            let pageno = 1;
            let discover = false;
            let movieIndex = 1;
            const moviesElements = document.getElementById('mediaContentDiv');
            const searchMoviesElements = document.getElementById('searchResults');
            const htmCollectionGenres = document.getElementById('with_genres');
            const leftFilterBar = document.getElementById("leftFilterBar")
            const navbar_sticky = document.getElementById("navbar_sticky");
            const sticky = navbar_sticky.offsetTop;
            const navbar_height = document.querySelector('.navbar').offsetHeight;

            const onPageScroll = () => {
                if (window.pageYOffset >= sticky + navbar_height) {
                    navbar_sticky.classList.add("sticky")
                    document.body.style.paddingTop = navbar_height + 'px';
                    leftFilterBar.style.top = navbar_height + 'px';
                } else {
                    navbar_sticky.classList.remove("sticky");
                    document.body.style.paddingTop = '0'
                    leftFilterBar.style.top = '';
                }
            }

            window.onscroll = function () { onPageScroll() };

            const showSideBar = () => {
                document.getElementById("leftFilterBar").classList.add("activeSidebar")
                document.getElementById("closeSideBar").style.display = "block";
            }
            const closeSideBar = () => {
                document.getElementById("leftFilterBar").classList.remove("activeSidebar")
                document.getElementById("closeSideBar").style.display = "none";
            }

            //set genres to filter
            const setGenres = () => {
                const childNodeLi = Array.from(htmCollectionGenres.children);
                let form_map = [];
                childNodeLi.find((value, index) => {
                    if (value.classList.contains('selected')) {
                        form_map.push(value.dataset.value);
                    }
                });
                return form_map ? form_map.join(',') : '';
            }

            //add event listener to genres
            htmCollectionGenres.addEventListener("click", (e) => {
                e.preventDefault();
                const parentEl = e.target.parentElement;
                parentEl.classList.contains('selected') ? parentEl.classList.remove('selected') : parentEl.classList.add('selected');
            })

            //function to render tv show  
            const renderTvShowSlotHTML = (obj) => {
                for (let index = 0; index < obj.length; index++) {
                    const movie = obj[index];
                    //create dynamic movie index
                    movie["movieIndex"] = movieIndex;
                    movieIndex += 1;
                    moviesElements.insertAdjacentHTML("beforeend", renderTvShow(movie));
                }
            }

            const renderSearchedTvShowSlotHTML = (obj) => {
                for (let index = 0; index < obj.length; index++) {
                    const movie = obj[index];
                    //create dynamic movie index
                    movie["movieIndex"] = movieIndex;
                    movieIndex += 1;
                    searchMoviesElements.insertAdjacentHTML("beforeend", renderTvShow(movie));
                }
            }

            const showMovies = (pageno) => {

                //get the current page number
                const currentPage = document.getElementById("currentPageNumber").value;

                //get tv shows from api and show render in webpage
                getTopRatedTvShows(pageno).then(data => {
                    let obj = data.resp;
                    if (data.status) {
                        document.getElementById("errorEl").style.display = "none";
                        document.getElementById("media_content_wrapper").style.display = "";
                        //render data to web page
                        renderTvShowSlotHTML(obj);
                        document.getElementById("loadmore").style.display = "";
                        pageno += 1;
                    } else {
                        document.getElementById("media_content_wrapper").style.display = "none";
                        document.getElementById("errorEl").style.display = "";
                        document.getElementById("errorMessage").innerText = "An error occured"
                    }
                    document.getElementById("loading").style.display = "none";
                })
                    .catch(err => console.log(err))
            }

            const renderGenres = () => {
                //get genre from api and show render in webpage
                getGenre().then(data => {
                    const genreObjs = data.resp;
                    const genreEl = htmCollectionGenres;
                    if (data.status) {
                        for (let i in genreObjs) {
                            let genreObj = genreObjs[i];
                            genreEl.insertAdjacentHTML("beforeend", `
                                        <li data-value="${genreObj.id}"><a class="no_click" href="/discover/movie?with_genres=${genreObj.id}">${genreObj.name}</a></li>
                                    `);
                        }
                    } else alert("An error occured loading Genres")

                })
                    .catch(err => console.log(err))
            }

            showMovies(pageno);
            //renderGenres();

            const loadMoreMovies = (target) => {
                //hide load more button and show loading
                target.style.display = "none";
                document.getElementById("loading").style.display = "block";
                //if page number is not greater than 500 increment it by 1
                pageno = pageno += 1 || pageno < 500;

                discover ? discoverMedia(pageno) : showMovies(pageno);
            }

            const filterByGenres = () => {

                if (!setGenres()) {
                    alert("Choose Genres first");
                    return;
                }

                //get the current page number
                const currentPage = document.getElementById("currentPageNumber").value;
                const moviesElements = document.getElementById('mediaContentDiv').innerHTML = '';
                document.getElementById("searchResults").innerHTML = "";
                document.getElementById("searchResltsDiv").style.display = "none";
                document.getElementById("media_content_wrapper").style.display = "none";
                document.getElementById("loading").style.display = "";
                discover = true;

                //reset page number movie index
                pageno = 1;
                movieIndex = 1;

                discoverMedia(pageno);
            }

            const discoverMedia = (pageno) => {

                document.getElementById("loading").style.display = "";

                if (!setGenres()) {
                    alert("Choose Genres first");
                    return;
                }

                //get tv show from api and show render in webpage
                discoverTvShows(pageno, setGenres()).then(data => {

                    let obj = data.resp;

                    if (data.status) {
                        closeSideBar();
                        document.getElementById("errorEl").style.display = "none";
                        document.getElementById("media_content_wrapper").style.display = "";
                        //render data to web page
                        renderTvShowSlotHTML(obj);
                        document.getElementById("loadmore").style.display = "";
                        document.getElementById("loading").style.display = "none";

                        //set next page number
                        // currentPage.value = parseInt(data.currentPage) + 1;
                    } else {
                        closeSideBar();
                        document.getElementById("media_content_wrapper").style.display = "none";
                        document.getElementById("errorEl").style.display = "";
                        document.getElementById("errorMessage").innerText = "An error occured"
                        document.getElementById("loading").style.display = "none";
                    }

                }).catch(err => console.log(err))
            }

            const search = () => {

                const searchInput = document.getElementById("searchInput").value.trim();

                if (!searchInput || searchInput === "") {
                    alert("Please enter a search term");
                    return false;
                }

                //remove all child element if any in searchResults div
                document.getElementById("searchResults").innerHTML = "";
                document.getElementById("media_content_wrapper").style.display = "none";
                document.getElementById("loading").style.display = "";
                //reset movie index
                movieIndex = 1;

                //get tv show from api and show render in webpage
                searchForTvShow(searchInput).then(data => {
                    let obj = data.resp;
                    if (data.status) {
                        closeSideBar();
                        document.getElementById("errorEl").style.display = "none";
                        document.getElementById("searchResltsDiv").style.display = "";
                        //render data to web page
                        renderSearchedTvShowSlotHTML(obj);
                        document.getElementById("loadmore").style.display = "";
                        document.getElementById("loading").style.display = "none";
                    } else {
                        closeSideBar();
                        document.getElementById("searchResltsDiv").style.display = "none";
                        document.getElementById("errorEl").style.display = "";
                        document.getElementById("errorMessage").innerText = "An error occured"
                        document.getElementById("loading").style.display = "none";
                    }

                }).catch(err => console.log(err))

            }

        </script>